from shexer.shaper import Shaper
from shexer.consts import NT, SHEXC, SHACL_TURTLE

target_classes = [
    "http://schema.org/Book"
]

namespaces_dict = {"http://www.w3.org/1999/02/22-rdf-syntax-ns#": "rdf",
                   "http://www.w3.org/2000/01/rdf-schema#": "rdfs", 
                   "http://example.org/": "ex",
                   "http://weso.es/shapes/": "",
                   "http://www.w3.org/2001/XMLSchema#": "xsd",
                   "http://www.cidoc-crm.org/cidoc-crm/": "cidoc-crm",
                   "http://schema.org/": "schema",
                   "http://rdfs.org/ns/void#": "void",
                   "http://creativecommons.org/ns#": "creativeCommons",
                   "http://purl.org/dc/terms/": "dc",
                   "http://www.w3.org/2003/01/geo/wgs84_pos#": "geo",
                   "http://purl.org/ontology/bibo/": "bibo"
                   }

url_endpoint="https://data.bibliotheken.nl/sparql"

list_of_url_input= ["http://data.bibliotheken.nl/id/nbt/p331696428",
"http://data.bibliotheken.nl/id/nbt/p410352977",
"http://data.bibliotheken.nl/id/nbt/p409842869",
"http://data.bibliotheken.nl/id/nbt/p162882084",
"http://data.bibliotheken.nl/id/nbt/p411743732",
"http://data.bibliotheken.nl/id/nbt/p200789805",
"http://data.bibliotheken.nl/id/nbt/p200794086",
"http://data.bibliotheken.nl/id/nbt/p200794205",
"http://data.bibliotheken.nl/id/nbt/p200814753",
"http://data.bibliotheken.nl/id/nbt/p200823787",
"http://data.bibliotheken.nl/id/nbt/p200835750",
"http://data.bibliotheken.nl/id/nbt/p42750418X",
"http://data.bibliotheken.nl/id/nbt/p036030996",
"http://data.bibliotheken.nl/id/nbt/p036035033",
"http://data.bibliotheken.nl/id/nbt/p036035114",
"http://data.bibliotheken.nl/id/nbt/p036095907",
"http://data.bibliotheken.nl/id/nbt/p036144444",
"http://data.bibliotheken.nl/id/nbt/p036146331",
"http://data.bibliotheken.nl/id/nbt/p036178691",
"http://data.bibliotheken.nl/id/nbt/p036184454",
"http://data.bibliotheken.nl/id/nbt/p036185949",
"http://data.bibliotheken.nl/id/nbt/p036187925",
"http://data.bibliotheken.nl/id/nbt/p036212555",
"http://data.bibliotheken.nl/id/nbt/p03621857X",
"http://data.bibliotheken.nl/id/nbt/p036262463",
"http://data.bibliotheken.nl/id/nbt/p036273929",
"http://data.bibliotheken.nl/id/nbt/p036322563",
"http://data.bibliotheken.nl/id/nbt/p036331805",
"http://data.bibliotheken.nl/id/nbt/p036337625",
"http://data.bibliotheken.nl/id/nbt/p03634849X",
"http://data.bibliotheken.nl/id/nbt/p036355941",
"http://data.bibliotheken.nl/id/nbt/p036369853",
"http://data.bibliotheken.nl/id/nbt/p036423076",
"http://data.bibliotheken.nl/id/nbt/p036423122",
"http://data.bibliotheken.nl/id/nbt/p036425109",
"http://data.bibliotheken.nl/id/nbt/p036427810",
"http://data.bibliotheken.nl/id/nbt/p036432725",
"http://data.bibliotheken.nl/id/nbt/p036439827",
"http://data.bibliotheken.nl/id/nbt/p036450456",
"http://data.bibliotheken.nl/id/nbt/p036458791",
"http://data.bibliotheken.nl/id/nbt/p036460281",
"http://data.bibliotheken.nl/id/nbt/p036472433",
"http://data.bibliotheken.nl/id/nbt/p036480991",
"http://data.bibliotheken.nl/id/nbt/p036481106",
"http://data.bibliotheken.nl/id/nbt/p036504270",
"http://data.bibliotheken.nl/id/nbt/p036516341",
"http://data.bibliotheken.nl/id/nbt/p036516589",
"http://data.bibliotheken.nl/id/nbt/p036534439",
"http://data.bibliotheken.nl/id/nbt/p036534587",
"http://data.bibliotheken.nl/id/nbt/p03654177X",
"http://data.bibliotheken.nl/id/nbt/p036557331",
"http://data.bibliotheken.nl/id/nbt/p036566225",
"http://data.bibliotheken.nl/id/nbt/p036635065",
"http://data.bibliotheken.nl/id/nbt/p036660256",
"http://data.bibliotheken.nl/id/nbt/p036663735",
"http://data.bibliotheken.nl/id/nbt/p036670324",
"http://data.bibliotheken.nl/id/nbt/p036671525",
"http://data.bibliotheken.nl/id/nbt/p036673404",
"http://data.bibliotheken.nl/id/nbt/p036674729",
"http://data.bibliotheken.nl/id/nbt/p036682284",
"http://data.bibliotheken.nl/id/nbt/p036701335",
"http://data.bibliotheken.nl/id/nbt/p036719145",
"http://data.bibliotheken.nl/id/nbt/p036724017",
"http://data.bibliotheken.nl/id/nbt/p036729205",
"http://data.bibliotheken.nl/id/nbt/p036731323",
"http://data.bibliotheken.nl/id/nbt/p036744158",
"http://data.bibliotheken.nl/id/nbt/p036744263",
"http://data.bibliotheken.nl/id/nbt/p036745170",
"http://data.bibliotheken.nl/id/nbt/p036748331",
"http://data.bibliotheken.nl/id/nbt/p036748617",
"http://data.bibliotheken.nl/id/nbt/p036753734",
"http://data.bibliotheken.nl/id/nbt/p036757926",
"http://data.bibliotheken.nl/id/nbt/p036758949",
"http://data.bibliotheken.nl/id/nbt/p036786225",
"http://data.bibliotheken.nl/id/nbt/p036786861",
"http://data.bibliotheken.nl/id/nbt/p036788384",
"http://data.bibliotheken.nl/id/nbt/p036798177",
"http://data.bibliotheken.nl/id/nbt/p036798541",
"http://data.bibliotheken.nl/id/nbt/p036805572",
"http://data.bibliotheken.nl/id/nbt/p036806994",
"http://data.bibliotheken.nl/id/nbt/p036810762",
"http://data.bibliotheken.nl/id/nbt/p03681430X",
"http://data.bibliotheken.nl/id/nbt/p036816175",
"http://data.bibliotheken.nl/id/nbt/p036827223",
"http://data.bibliotheken.nl/id/nbt/p036837717",
"http://data.bibliotheken.nl/id/nbt/p036839345",
"http://data.bibliotheken.nl/id/nbt/p036866180",
"http://data.bibliotheken.nl/id/nbt/p036871036",
"http://data.bibliotheken.nl/id/nbt/p036872903",
"http://data.bibliotheken.nl/id/nbt/p036873152",
"http://data.bibliotheken.nl/id/nbt/p036878049",
"http://data.bibliotheken.nl/id/nbt/p036882313",
"http://data.bibliotheken.nl/id/nbt/p036908363",
"http://data.bibliotheken.nl/id/nbt/p03690919X",
"http://data.bibliotheken.nl/id/nbt/p036910961",
"http://data.bibliotheken.nl/id/nbt/p03691407X",
"http://data.bibliotheken.nl/id/nbt/p036916730",
"http://data.bibliotheken.nl/id/nbt/p036918563",
"http://data.bibliotheken.nl/id/nbt/p036938602",
"http://data.bibliotheken.nl/id/nbt/p03694016X",
"http://data.bibliotheken.nl/id/nbt/p036950637",
"http://data.bibliotheken.nl/id/nbt/p036953504",
"http://data.bibliotheken.nl/id/nbt/p036959650",
"http://data.bibliotheken.nl/id/nbt/p036967025",
"http://data.bibliotheken.nl/id/nbt/p036967289",
"http://data.bibliotheken.nl/id/nbt/p036973769",
"http://data.bibliotheken.nl/id/nbt/p036975435",
"http://data.bibliotheken.nl/id/nbt/p037011596",
"http://data.bibliotheken.nl/id/nbt/p037044028",
"http://data.bibliotheken.nl/id/nbt/p037044044",
"http://data.bibliotheken.nl/id/nbt/p037045709",
"http://data.bibliotheken.nl/id/nbt/p037050079",
"http://data.bibliotheken.nl/id/nbt/p037055445",
"http://data.bibliotheken.nl/id/nbt/p037055798",
"http://data.bibliotheken.nl/id/nbt/p037056158",
"http://data.bibliotheken.nl/id/nbt/p03705645X",
"http://data.bibliotheken.nl/id/nbt/p037067281",
"http://data.bibliotheken.nl/id/nbt/p037069594",
"http://data.bibliotheken.nl/id/nbt/p037084712",
"http://data.bibliotheken.nl/id/nbt/p03709422X",
"http://data.bibliotheken.nl/id/nbt/p037103288",
"http://data.bibliotheken.nl/id/nbt/p037117270",
"http://data.bibliotheken.nl/id/nbt/p037119699",
"http://data.bibliotheken.nl/id/nbt/p037123319",
"http://data.bibliotheken.nl/id/nbt/p037123467",
"http://data.bibliotheken.nl/id/nbt/p037124668",
"http://data.bibliotheken.nl/id/nbt/p037127373",
"http://data.bibliotheken.nl/id/nbt/p037133314",
"http://data.bibliotheken.nl/id/nbt/p037134493",
"http://data.bibliotheken.nl/id/nbt/p037136496",
"http://data.bibliotheken.nl/id/nbt/p037138200",
"http://data.bibliotheken.nl/id/nbt/p03714734X",
"http://data.bibliotheken.nl/id/nbt/p037164988",
"http://data.bibliotheken.nl/id/nbt/p03718315X",
"http://data.bibliotheken.nl/id/nbt/p037183796",
"http://data.bibliotheken.nl/id/nbt/p037189026",
"http://data.bibliotheken.nl/id/nbt/p037190652",
"http://data.bibliotheken.nl/id/nbt/p037192825",
"http://data.bibliotheken.nl/id/nbt/p037194240",
"http://data.bibliotheken.nl/id/nbt/p037204734",
"http://data.bibliotheken.nl/id/nbt/p037208381",
"http://data.bibliotheken.nl/id/nbt/p037215485",
"http://data.bibliotheken.nl/id/nbt/p03728617X",
"http://data.bibliotheken.nl/id/nbt/p037304992",
"http://data.bibliotheken.nl/id/nbt/p037307827",
"http://data.bibliotheken.nl/id/nbt/p037308572",
"http://data.bibliotheken.nl/id/nbt/p037344811",
"http://data.bibliotheken.nl/id/nbt/p037351753",
"http://data.bibliotheken.nl/id/nbt/p037401106",
"http://data.bibliotheken.nl/id/nbt/p03740184X",
"http://data.bibliotheken.nl/id/nbt/p037410938",
"http://data.bibliotheken.nl/id/nbt/p03742176X",
"http://data.bibliotheken.nl/id/nbt/p037432044",
"http://data.bibliotheken.nl/id/nbt/p037446940",
"http://data.bibliotheken.nl/id/nbt/p037447092",
"http://data.bibliotheken.nl/id/nbt/p03744932X",
"http://data.bibliotheken.nl/id/nbt/p037455206",
"http://data.bibliotheken.nl/id/nbt/p037466224",
"http://data.bibliotheken.nl/id/nbt/p037472011",
"http://data.bibliotheken.nl/id/nbt/p037477749",
"http://data.bibliotheken.nl/id/nbt/p037486314",
"http://data.bibliotheken.nl/id/nbt/p03749032X",
"http://data.bibliotheken.nl/id/nbt/p037490478",
"http://data.bibliotheken.nl/id/nbt/p037500635",
"http://data.bibliotheken.nl/id/nbt/p037501291",
"http://data.bibliotheken.nl/id/nbt/p037513931",
"http://data.bibliotheken.nl/id/nbt/p037524666",
"http://data.bibliotheken.nl/id/nbt/p037529870",
"http://data.bibliotheken.nl/id/nbt/p037535765",
"http://data.bibliotheken.nl/id/nbt/p037535838",
"http://data.bibliotheken.nl/id/nbt/p037536575",
"http://data.bibliotheken.nl/id/nbt/p037537725",
"http://data.bibliotheken.nl/id/nbt/p03763433X",
"http://data.bibliotheken.nl/id/nbt/p037642529",
"http://data.bibliotheken.nl/id/nbt/p037642650",
"http://data.bibliotheken.nl/id/nbt/p037642871",
"http://data.bibliotheken.nl/id/nbt/p03764579X",
"http://data.bibliotheken.nl/id/nbt/p037646834",
"http://data.bibliotheken.nl/id/nbt/p037648896",
"http://data.bibliotheken.nl/id/nbt/p037648993",
"http://data.bibliotheken.nl/id/nbt/p037661779",
"http://data.bibliotheken.nl/id/nbt/p037701614",
"http://data.bibliotheken.nl/id/nbt/p037799940",
"http://data.bibliotheken.nl/id/nbt/p037801023",
"http://data.bibliotheken.nl/id/nbt/p037870122",
"http://data.bibliotheken.nl/id/nbt/p037881183",
"http://data.bibliotheken.nl/id/nbt/p037890360",
"http://data.bibliotheken.nl/id/nbt/p037920103",
"http://data.bibliotheken.nl/id/nbt/p037926349",
"http://data.bibliotheken.nl/id/nbt/p037962140",
"http://data.bibliotheken.nl/id/nbt/p037962930",
"http://data.bibliotheken.nl/id/nbt/p03796318X",
"http://data.bibliotheken.nl/id/nbt/p037963260",
"http://data.bibliotheken.nl/id/nbt/p037963376",
"http://data.bibliotheken.nl/id/nbt/p037963937",
"http://data.bibliotheken.nl/id/nbt/p037966014",
"http://data.bibliotheken.nl/id/nbt/p03797453X",
"http://data.bibliotheken.nl/id/nbt/p037984535",
"http://data.bibliotheken.nl/id/nbt/p037989715",
"http://data.bibliotheken.nl/id/nbt/p037991078"]

shaper = Shaper(target_classes=target_classes,
                #raw_graph=raw_graph,
                #graph_file_input=input_nt_file,
                list_of_url_input=list_of_url_input, 
                #url_endpoint=url_endpoint, 
                input_format=NT,
                #limit_remote_instances=50,
                namespaces_dict=namespaces_dict)  # Default: no prefixes
                #instantiation_property="http://www.w3.org/1999/02/22-rdf-syntax-ns#type")  # Default rdf:type

output_file = "shaper_nl_book_shexer.shex"

shaper.shex_graph(output_file=output_file,
                  acceptance_threshold=0.7)

print("Done!")
